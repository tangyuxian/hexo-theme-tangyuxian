<div class="nexmoe-post">
  <article>
    <% if (page.cover){ %>
        <div class="nexmoe-post-cover absolute" style="padding-top: <%- page.coverHeight/page.coverWidth*100 %>%;"> 
            <img src="<%- page.cover %>" alt="<%= page.title %>" loading="lazy">
            <h1><%= page.title %></h1>
        </div>
        <%}  else{
            // 新增标签封面匹配逻辑
            let tagCover;
            if(theme.tagsCovers && page.tags) {
                page.tags.some(tag => {
                    const tagName = tag.name || '';
                    return tagCover = theme.tagsCovers[tagName];
                });
            }
        %>
        <div class="nexmoe-post-cover">
            <img src="<%- tagCover || theme.background.path %>" alt="<%= page.title %>" loading="lazy">
            <h1><%= page.title %></h1>
        </div>
        <% } %>
    
    <%- partial('_partial/_post/meta', {page: page}) %>

    <%- page.content %>
    <%- theme.slotArticleEnd %>
  </article>

  <% if (!page.reprint){ %>
      <%- partial('_partial/_post/copyright') %>
  <% } %>
  
  <%- partial('_partial/_post/tag') %>
  
  <% if (theme.function.copyCode) { %>
    <%- js_auto_version('js/copy-codeblock') %>
  <% } %>

  <% if (page.comments){ %>
      <div class="nexmoe-post-footer">
          <%- theme.slotComment %>
      </div>
  <% } %>
</div>