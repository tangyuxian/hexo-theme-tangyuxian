<% page.posts.each(function (page) { %>
    <div class="nexmoe-post">
        <a href="<%- url_for(page.path) %>">
            <% if (page.cover){ %>
                <div class="nexmoe-post-cover mdui-ripple absolute" style="padding-top: <%- page.coverHeight/page.coverWidth*100 %>%;"> 
                    <img src="<%- page.cover %>" alt="<%= page.title %>" loading="lazy">
                    <h1><%= page.title %></h1>
                </div>
                <%}  else{
                    // 新增标签封面匹配逻辑
                    let tagCover;
                    if(theme.tagsCovers && page.tags) {
                        page.tags.some(tag => {
                            const tagName = tag.name || "";
                            return tagCover = theme.tagsCovers[tagName];
                        });
                    }
                %>
                <div class="nexmoe-post-cover mdui-ripple">
                    <img src="<%- tagCover || theme.background.path %>" alt="<%= page.title %>" loading="lazy">
                    <h1><%= page.title %></h1>
                </div>
                <% } %>
        </a>

        <%- partial('_partial/_post/meta', {page: page}) %>

        <article>
            <%- page.excerpt %>
        </article>
    </div>
<% }) %>